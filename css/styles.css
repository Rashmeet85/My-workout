/* ═══════════════════════════════════════════════════
   12-Week Gym Plan — Stylesheet
   ═══════════════════════════════════════════════════ */

/* ── THEME VARIABLES ── */
[data-theme="dark"] {
  --bg: #080810;
  --surface: #0f0f1a;
  --surface2: #161625;
  --surface3: #1e1e30;
  --text: #eeeef5;
  --text2: #9999b5;
  --muted: #55556a;
  --border: #1e1e30;
  --border2: #2a2a42;
  --card-bg: #0f0f1a;
  --input-bg: #161625;
  --nav-bg: rgba(8, 8, 16, 0.92);
  --accent: #c8ff00;
  --accent-dim: rgba(200, 255, 0, 0.12);
  --accent-text: #000;
}

[data-theme="light"] {
  --bg: #f4f4f8;
  --surface: #ffffff;
  --surface2: #f0f0f6;
  --surface3: #e8e8f0;
  --text: #1a1a2e;
  --text2: #555577;
  --muted: #9999aa;
  --border: #e0e0ec;
  --border2: #c8c8dc;
  --card-bg: #ffffff;
  --input-bg: #f4f4f8;
  --nav-bg: rgba(244, 244, 248, 0.92);
  --accent: #2d7a00;
  --accent-dim: rgba(45, 122, 0, 0.1);
  --accent-text: #fff;
}

:root {
  --orange: #ff7043;
  --blue: #60a5fa;
  --green: #34d399;
  --purple: #a78bfa;
  --gold: #fbbf24;
  --red: #f87171;
}

/* ── RESET & BASE ── */
*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

html {
  scroll-behavior: smooth;
}

body {
  background: var(--bg);
  color: var(--text);
  font-family: "Plus Jakarta Sans", sans-serif;
  min-height: 100vh;
  overflow-x: hidden;
  transition:
    background 0.3s,
    color 0.3s;
}

::selection {
  background: var(--accent-dim);
  color: var(--text);
}

::-webkit-scrollbar {
  width: 5px;
}
::-webkit-scrollbar-track {
  background: var(--bg);
}
::-webkit-scrollbar-thumb {
  background: var(--border2);
  border-radius: 3px;
}

input[type="number"] {
  -moz-appearance: textfield;
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
}

/* ── PAGES ── */
.page {
  display: none;
}
.page.active {
  display: block;
}

/* ── NAV ── */
.nav {
  position: sticky;
  top: 0;
  z-index: 300;
  background: var(--nav-bg);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  gap: 2px;
  padding: 0 20px;
  height: 54px;
  overflow-x: auto;
  overflow-y: hidden;
}
.nav::-webkit-scrollbar {
  display: none;
}

.nav-logo {
  font-family: "Bebas Neue";
  font-size: 20px;
  letter-spacing: 2px;
  color: var(--accent);
  margin-right: 8px;
  flex-shrink: 0;
}

.nav-btn {
  background: none;
  border: none;
  color: var(--text2);
  font-family: "Plus Jakarta Sans";
  font-size: 12px;
  font-weight: 600;
  padding: 6px 10px;
  cursor: pointer;
  border-radius: 8px;
  transition: all 0.15s;
  display: flex;
  align-items: center;
  gap: 5px;
  white-space: nowrap;
  flex-shrink: 0;
}
.nav-btn:hover {
  background: var(--surface2);
  color: var(--text);
}
.nav-btn.active {
  background: var(--accent-dim);
  color: var(--accent);
}

.nav-spacer {
  flex: 1;
  min-width: 8px;
}

.nav-right {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

.nav-streak {
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 11px;
  font-weight: 700;
  color: var(--orange);
  background: rgba(255, 112, 67, 0.1);
  border: 1px solid rgba(255, 112, 67, 0.2);
  padding: 4px 10px;
  border-radius: 20px;
}

.nav-theme-btn {
  background: none;
  border: 1px solid var(--border2);
  color: var(--text2);
  width: 30px;
  height: 30px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.15s;
}
.nav-theme-btn:hover {
  border-color: var(--accent);
  color: var(--accent);
}

/* ── TODAY BANNER ── */
.today-banner {
  margin: 16px 20px 0;
  background: linear-gradient(135deg, var(--accent-dim), transparent);
  border: 1px solid var(--accent-dim);
  border-radius: 14px;
  padding: 14px 18px;
  display: flex;
  align-items: center;
  gap: 14px;
  cursor: pointer;
  transition: all 0.2s;
  min-height: 64px;
}
.today-banner:hover {
  border-color: var(--accent);
  transform: translateY(-1px);
}
.tb-icon {
  font-size: 24px;
}
.tb-text {
  flex: 1;
}
.tb-title {
  font-size: 13px;
  font-weight: 700;
  color: var(--accent);
  margin-bottom: 2px;
}
.tb-sub {
  font-size: 11px;
  color: var(--text2);
}
.tb-arrow {
  font-size: 18px;
  color: var(--accent);
}

/* ── HERO ── */
.hero {
  position: relative;
  padding: 40px 20px 32px;
  overflow: hidden;
}
.hero-bg {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(
      ellipse 500px 300px at 80% -20px,
      rgba(200, 255, 0, 0.06) 0%,
      transparent 70%
    ),
    radial-gradient(
      ellipse 300px 200px at -5% 70%,
      rgba(96, 165, 250, 0.04) 0%,
      transparent 70%
    );
}
[data-theme="light"] .hero-bg {
  background:
    radial-gradient(
      ellipse 500px 300px at 80% -20px,
      rgba(45, 122, 0, 0.05) 0%,
      transparent 70%
    ),
    radial-gradient(
      ellipse 300px 200px at -5% 70%,
      rgba(96, 165, 250, 0.04) 0%,
      transparent 70%
    );
}
.hero-grid {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image:
    linear-gradient(rgba(255, 255, 255, 0.015) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.015) 1px, transparent 1px);
  background-size: 50px 50px;
  mask-image: linear-gradient(
    to bottom,
    transparent,
    black 30%,
    black 70%,
    transparent
  );
}
[data-theme="light"] .hero-grid {
  background-image:
    linear-gradient(rgba(0, 0, 0, 0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 0, 0, 0.04) 1px, transparent 1px);
}
.hero-inner {
  position: relative;
  z-index: 1;
}

.hero-eyebrow {
  display: inline-flex;
  align-items: center;
  gap: 7px;
  background: var(--accent-dim);
  border: 1px solid var(--accent-dim);
  color: var(--accent);
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 3px;
  text-transform: uppercase;
  padding: 4px 12px;
  border-radius: 20px;
  margin-bottom: 16px;
}

.hero-eyebrow-dot {
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: var(--accent);
  animation: blink 2s infinite;
}
@keyframes blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.3;
  }
}

.hero h1 {
  font-family: "Bebas Neue";
  font-size: clamp(52px, 10vw, 100px);
  line-height: 0.9;
  letter-spacing: -1px;
  margin-bottom: 12px;
}
.hero h1 .hl {
  -webkit-text-stroke: 2px var(--accent);
  color: transparent;
}
.hero-sub {
  font-size: 13px;
  color: var(--text2);
  max-width: 440px;
  line-height: 1.6;
}

/* ── STAT STRIP ── */
.stat-strip {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  margin: 16px 20px 24px;
}
.stat-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
  position: relative;
  overflow: hidden;
  transition: all 0.2s;
}
.stat-card:hover {
  border-color: var(--border2);
  transform: translateY(-2px);
}
.stat-icon {
  font-size: 18px;
  margin-bottom: 8px;
}
.stat-val {
  font-family: "Bebas Neue";
  font-size: 32px;
  line-height: 1;
  margin-bottom: 3px;
}
.stat-label {
  font-size: 10px;
  color: var(--text2);
  font-weight: 600;
  letter-spacing: 1.5px;
  text-transform: uppercase;
}
.stat-card.c-green .stat-val {
  color: var(--accent);
}
.stat-card.c-blue .stat-val {
  color: var(--blue);
}
.stat-card.c-gold .stat-val {
  color: var(--gold);
}
.stat-card.c-green2 .stat-val {
  color: var(--green);
}

/* ── SECTION ── */
.home-section {
  margin: 0 20px 28px;
}
.section-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 14px;
}
.section-title {
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--text2);
  display: flex;
  align-items: center;
  gap: 7px;
}
.section-title::before {
  content: "";
  width: 12px;
  height: 2px;
  background: var(--accent);
  border-radius: 2px;
}
.section-action {
  font-size: 12px;
  color: var(--accent);
  font-weight: 600;
  cursor: pointer;
  background: none;
  border: none;
  font-family: "Plus Jakarta Sans";
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: 8px;
  transition: background 0.15s;
}
.section-action:hover {
  background: var(--accent-dim);
}

/* ── PROGRESS CARD ── */
.prog-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 20px 22px;
}
.prog-top {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  margin-bottom: 12px;
}
.prog-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--text2);
}
.prog-sub {
  font-size: 11px;
  color: var(--muted);
  margin-top: 3px;
}
.prog-pct {
  font-family: "Bebas Neue";
  font-size: 38px;
  line-height: 1;
  color: var(--accent);
}
.prog-track {
  height: 6px;
  background: var(--border2);
  border-radius: 99px;
  overflow: hidden;
  margin-bottom: 10px;
}
.prog-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), #a0ff00);
  border-radius: 99px;
  transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}
[data-theme="light"] .prog-fill {
  background: linear-gradient(90deg, var(--accent), #4a9600);
}
.prog-dots {
  display: flex;
  gap: 3px;
}
.prog-dot {
  flex: 1;
  height: 4px;
  border-radius: 2px;
  background: var(--border2);
  transition: background 0.3s;
  cursor: pointer;
}
.prog-dot.done {
  background: var(--accent);
}
.prog-dot.partial {
  background: var(--orange);
}

/* ── WEIGHT CARD ── */
.weight-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  overflow: hidden;
}
.wstats-row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  border-bottom: 1px solid var(--border);
}
.wstat {
  padding: 18px 20px;
  border-right: 1px solid var(--border);
}
.wstat:last-child {
  border-right: none;
}
.wstat-lbl {
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--text2);
  margin-bottom: 5px;
}
.wstat-val {
  font-family: "Bebas Neue";
  font-size: 28px;
  line-height: 1;
  color: var(--blue);
}
.wstat-val.loss {
  color: var(--green);
}
.wstat-val.gain {
  color: var(--orange);
}
.wstat-sub {
  font-size: 10px;
  color: var(--muted);
  margin-top: 2px;
}
.chart-wrap {
  padding: 18px;
}
.chart-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 14px;
}
.chart-title2 {
  font-size: 12px;
  font-weight: 700;
}
.unit-toggle {
  display: flex;
  gap: 2px;
  background: var(--surface2);
  border-radius: 8px;
  padding: 3px;
}
.unit-btn {
  background: none;
  border: none;
  color: var(--text2);
  font-family: "Plus Jakarta Sans";
  font-size: 10px;
  font-weight: 700;
  padding: 4px 10px;
  cursor: pointer;
  border-radius: 6px;
  transition: all 0.15s;
  text-transform: uppercase;
  letter-spacing: 1px;
}
.unit-btn.active {
  background: var(--accent);
  color: var(--accent-text);
}
svg.wt-chart {
  width: 100%;
  display: block;
  overflow: visible;
}
.no-data-box {
  text-align: center;
  padding: 36px 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}
.no-data-icon {
  font-size: 36px;
  opacity: 0.25;
}
.no-data-txt {
  font-size: 13px;
  color: var(--text2);
  line-height: 1.6;
}
.wlog-wrap {
  border-top: 1px solid var(--border);
}
.wlog-hd {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr auto;
  padding: 8px 20px;
  background: var(--surface2);
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--muted);
}
.wlog-row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr auto;
  padding: 11px 20px;
  border-bottom: 1px solid var(--border);
  align-items: center;
  transition: background 0.15s;
}
.wlog-row:last-child {
  border-bottom: none;
}
.wlog-row:hover {
  background: var(--surface2);
}
.wlog-wk {
  font-size: 11px;
  color: var(--text2);
}
.wlog-wt {
  font-size: 14px;
  font-weight: 700;
}
.wlog-ch {
  font-size: 12px;
}
.wlog-ch.neg {
  color: var(--green);
}
.wlog-ch.pos {
  color: var(--orange);
}
.wlog-ch.zero {
  color: var(--muted);
}
.wlog-del {
  background: none;
  border: 1px solid transparent;
  color: var(--muted);
  cursor: pointer;
  width: 26px;
  height: 26px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.15s;
  font-size: 12px;
}
.wlog-del:hover {
  border-color: rgba(248, 113, 113, 0.4);
  color: var(--red);
}

/* ── WEEKS GRID ── */
.weeks-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 12px;
}
.week-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 18px;
  cursor: pointer;
  transition: all 0.2s;
  position: relative;
  overflow: hidden;
}
.week-card:hover {
  border-color: var(--border2);
  transform: translateY(-3px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}
.week-card.complete {
  border-color: rgba(200, 255, 0, 0.25);
  background: linear-gradient(
    135deg,
    var(--surface) 60%,
    rgba(200, 255, 0, 0.03)
  );
}
[data-theme="light"] .week-card.complete {
  border-color: rgba(45, 122, 0, 0.3);
  background: linear-gradient(
    135deg,
    var(--surface) 60%,
    rgba(45, 122, 0, 0.04)
  );
}
.week-card.complete:hover {
  border-color: rgba(200, 255, 0, 0.45);
}
[data-theme="light"] .week-card.complete:hover {
  border-color: rgba(45, 122, 0, 0.55);
}
.wc-top {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 10px;
}
.wc-badge {
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  padding: 3px 8px;
  border-radius: 20px;
  background: var(--surface2);
  color: var(--text2);
  border: 1px solid var(--border);
}
.wc-badge.phase-foundation {
  background: rgba(96, 165, 250, 0.1);
  color: var(--blue);
  border-color: rgba(96, 165, 250, 0.2);
}
.wc-badge.phase-build {
  background: rgba(52, 211, 153, 0.1);
  color: var(--green);
  border-color: rgba(52, 211, 153, 0.2);
}
.wc-badge.phase-accumulate {
  background: rgba(167, 139, 250, 0.1);
  color: var(--purple);
  border-color: rgba(167, 139, 250, 0.2);
}
.wc-badge.phase-intensify {
  background: rgba(255, 112, 67, 0.1);
  color: var(--orange);
  border-color: rgba(255, 112, 67, 0.2);
}
.wc-badge.phase-peak {
  background: rgba(251, 191, 36, 0.1);
  color: var(--gold);
  border-color: rgba(251, 191, 36, 0.2);
}
.wc-badge.phase-deload {
  background: rgba(52, 211, 153, 0.08);
  color: var(--green);
  border-color: rgba(52, 211, 153, 0.15);
}
.wc-badge.phase-test {
  background: var(--accent-dim);
  color: var(--accent);
  border-color: rgba(200, 255, 0, 0.2);
}
.wc-trophy {
  font-size: 20px;
  animation: float 3s ease-in-out infinite;
}
@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}
.wc-num {
  font-family: "Bebas Neue";
  font-size: 44px;
  line-height: 1;
  color: var(--border2);
  transition: color 0.2s;
}
.week-card:hover .wc-num {
  color: var(--surface3);
}
.week-card.complete .wc-num {
  color: var(--accent-dim);
}
.wc-label {
  font-size: 10px;
  color: var(--text2);
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  margin-bottom: 2px;
}
.wc-wt {
  font-size: 10px;
  color: var(--blue);
  font-weight: 600;
  margin-bottom: 10px;
}
.wc-bar-track {
  height: 3px;
  background: var(--border2);
  border-radius: 99px;
  margin-bottom: 6px;
  overflow: hidden;
}
.wc-bar-fill {
  height: 100%;
  border-radius: 99px;
  background: linear-gradient(90deg, var(--accent), #a0ff00);
  transition: width 0.5s ease;
}
[data-theme="light"] .wc-bar-fill {
  background: linear-gradient(90deg, var(--accent), #4a9600);
}
.wc-bar-fill.comp {
  background: linear-gradient(90deg, var(--green), #4ade80);
}
.wc-prog {
  font-size: 11px;
  color: var(--text2);
}
.wc-prog strong {
  color: var(--text);
}

/* ── WEEK PAGE ── */
.wk-wrap {
  max-width: 880px;
  margin: 0 auto;
  padding: 28px 20px;
}
.wk-back {
  background: none;
  border: none;
  color: var(--text2);
  font-family: "Plus Jakarta Sans";
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 0;
  margin-bottom: 16px;
  transition: color 0.15s;
}
.wk-back:hover {
  color: var(--accent);
}
.wk-title {
  font-family: "Bebas Neue";
  font-size: 48px;
  line-height: 1;
  margin-bottom: 8px;
}
.wk-title span {
  color: var(--accent);
}
.wk-meta {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 18px;
}
.wk-phase {
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  padding: 4px 10px;
  border-radius: 20px;
}
.wk-prog-text {
  font-size: 12px;
  color: var(--text2);
}
.wk-prog-text strong {
  color: var(--text);
}
.wk-guidance {
  background: var(--surface);
  border: 1px solid var(--border);
  border-left: 3px solid var(--orange);
  border-radius: 10px;
  padding: 12px 16px;
  font-size: 12px;
  color: var(--text2);
  line-height: 1.6;
  margin-bottom: 20px;
}
.wk-guidance strong {
  color: var(--text);
}

/* Weight input on week page */
.wi-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px 18px;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}
.wi-icon {
  font-size: 22px;
}
.wi-label {
  font-size: 13px;
  font-weight: 700;
  flex: 1;
  min-width: 130px;
}
.wi-label span {
  display: block;
  font-size: 10px;
  color: var(--text2);
  font-weight: 400;
  margin-top: 1px;
}
.wi-field {
  display: flex;
  align-items: center;
  gap: 8px;
}
.wi-inp {
  background: var(--input-bg);
  border: 1px solid var(--border2);
  color: var(--text);
  font-family: "Plus Jakarta Sans";
  font-size: 16px;
  font-weight: 700;
  padding: 8px 12px;
  width: 90px;
  text-align: center;
  border-radius: 8px;
  transition: border-color 0.15s;
}
.wi-inp:focus {
  outline: none;
  border-color: rgba(96, 165, 250, 0.5);
}
.wi-unit {
  font-size: 11px;
  color: var(--text2);
  font-weight: 600;
}
.wi-btn {
  background: var(--blue);
  border: none;
  color: #000;
  font-family: "Plus Jakarta Sans";
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.5px;
  padding: 9px 16px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s;
}
.wi-btn:hover {
  opacity: 0.85;
  transform: translateY(-1px);
}
.wi-ok {
  font-size: 11px;
  color: var(--green);
  font-weight: 600;
  opacity: 0;
  transition: opacity 0.3s;
}
.wi-ok.show {
  opacity: 1;
}

/* Complete banner */
.comp-banner {
  display: none;
  align-items: center;
  gap: 12px;
  background: linear-gradient(
    90deg,
    rgba(200, 255, 0, 0.08),
    rgba(200, 255, 0, 0.02)
  );
  border: 1px solid rgba(200, 255, 0, 0.2);
  border-radius: 12px;
  padding: 16px 18px;
  margin-bottom: 20px;
  font-size: 13px;
}
[data-theme="light"] .comp-banner {
  background: linear-gradient(
    90deg,
    rgba(45, 122, 0, 0.08),
    rgba(45, 122, 0, 0.02)
  );
  border-color: rgba(45, 122, 0, 0.25);
}
.comp-banner.show {
  display: flex;
}
.cb-icon {
  font-size: 22px;
}
.cb-text strong {
  color: var(--accent);
  display: block;
  margin-bottom: 2px;
}
.cb-text span {
  font-size: 11px;
  color: var(--text2);
}

/* Day block */
.day-block {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  margin-bottom: 16px;
  overflow: hidden;
  transition: border-color 0.2s;
}
.day-hd {
  padding: 14px 18px;
  background: var(--surface2);
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.day-hd-left {
  display: flex;
  align-items: center;
  gap: 10px;
}
.day-icon2 {
  font-size: 18px;
}
.day-name {
  font-family: "Bebas Neue";
  font-size: 20px;
  letter-spacing: 1px;
}
.day-focus {
  font-size: 10px;
  color: var(--text2);
  font-weight: 600;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}
.day-right {
  display: flex;
  align-items: center;
  gap: 8px;
}
.day-done-all {
  background: none;
  border: 1px solid var(--border2);
  color: var(--text2);
  font-family: "Plus Jakarta Sans";
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.5px;
  padding: 5px 12px;
  border-radius: 7px;
  cursor: pointer;
  transition: all 0.15s;
  text-transform: uppercase;
}
.day-done-all:hover {
  background: var(--accent-dim);
  border-color: rgba(200, 255, 0, 0.3);
  color: var(--accent);
}
[data-theme="light"] .day-done-all:hover {
  border-color: rgba(45, 122, 0, 0.4);
}

/* Exercise row */
.ex-row {
  border-bottom: 1px solid var(--border);
}
.ex-row:last-child {
  border-bottom: none;
}
.ex-main {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 11px 18px;
  cursor: pointer;
  transition: background 0.15s;
  user-select: none;
}
.ex-main:hover {
  background: rgba(255, 255, 255, 0.02);
}
[data-theme="light"] .ex-main:hover {
  background: rgba(0, 0, 0, 0.02);
}
.ex-row.done .ex-main {
  background: rgba(200, 255, 0, 0.02);
}
[data-theme="light"] .ex-row.done .ex-main {
  background: rgba(45, 122, 0, 0.03);
}
.ex-cb {
  width: 20px;
  height: 20px;
  border: 2px solid var(--border2);
  border-radius: 5px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}
.ex-row.done .ex-cb {
  background: var(--accent);
  border-color: var(--accent);
}
.ex-cb svg {
  width: 10px;
  height: 10px;
  stroke: var(--accent-text);
  fill: none;
  stroke-width: 2.5;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0;
  transform: scale(0.4);
  transition: all 0.2s;
}
.ex-row.done .ex-cb svg {
  opacity: 1;
  transform: scale(1);
}
.ex-name-wrap {
  flex: 1;
}
.ex-nm {
  font-size: 13px;
  transition: all 0.2s;
}
.ex-row.done .ex-nm {
  text-decoration: line-through;
  color: var(--text2);
}
.ex-nm.cardio {
  color: var(--blue);
}
.ex-row.done .ex-nm.cardio {
  color: var(--text2);
}
.ex-thumb {
  width: 44px;
  height: 44px;
  border-radius: 8px;
  object-fit: cover;
  flex-shrink: 0;
  background: var(--surface2);
  border: 1px solid var(--border2);
}
.ex-sets-lbl {
  font-size: 11px;
  color: var(--muted);
  font-weight: 600;
  white-space: nowrap;
}
.ex-row.done .ex-sets-lbl {
  opacity: 0.35;
}
.ex-expand-btn {
  background: none;
  border: none;
  color: var(--muted);
  cursor: pointer;
  font-size: 16px;
  padding: 2px 4px;
  transition: all 0.2s;
  line-height: 1;
}
.ex-expand-btn:hover {
  color: var(--text2);
}
.ex-row.done .ex-expand-btn {
  opacity: 0.4;
}

/* Set weight inputs */
.ex-sets-inputs {
  padding: 10px 18px 12px 50px;
  border-top: 1px solid var(--border);
  display: none;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}
.ex-sets-inputs.open {
  display: flex;
}
.set-input-wrap {
  display: flex;
  flex-direction: column;
  gap: 3px;
  align-items: center;
}
.set-lbl {
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--muted);
}
.set-inp {
  background: var(--input-bg);
  border: 1px solid var(--border2);
  color: var(--text);
  font-size: 13px;
  font-weight: 700;
  padding: 6px 8px;
  width: 68px;
  text-align: center;
  border-radius: 7px;
  transition: border-color 0.15s;
}
.set-inp:focus {
  outline: none;
  border-color: rgba(200, 255, 0, 0.4);
}
[data-theme="light"] .set-inp:focus {
  border-color: rgba(45, 122, 0, 0.5);
}
.set-inp::placeholder {
  color: var(--muted);
}
.set-prev-hint {
  font-size: 9px;
  color: var(--muted);
  text-align: center;
}
.pr-badge {
  font-size: 9px;
  font-weight: 700;
  color: var(--orange);
  background: rgba(255, 112, 67, 0.1);
  border: 1px solid rgba(255, 112, 67, 0.2);
  padding: 1px 6px;
  border-radius: 99px;
  margin-left: 4px;
}

/* Day notes */
.day-notes-wrap {
  padding: 10px 18px;
  border-top: 1px solid var(--border);
  background: var(--surface2);
}
.day-notes-lbl {
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 6px;
  display: flex;
  align-items: center;
  gap: 5px;
}
.day-notes-inp {
  width: 100%;
  background: var(--input-bg);
  border: 1px solid var(--border2);
  color: var(--text);
  font-family: "Plus Jakarta Sans";
  font-size: 12px;
  padding: 8px 12px;
  border-radius: 8px;
  resize: none;
  height: 56px;
  transition: border-color 0.15s;
  line-height: 1.5;
}
.day-notes-inp:focus {
  outline: none;
  border-color: rgba(167, 139, 250, 0.4);
}
.day-notes-inp::placeholder {
  color: var(--muted);
}

/* ── TIMER WIDGET ── */
.timer-fab {
  position: fixed;
  bottom: 24px;
  right: 20px;
  z-index: 400;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 8px;
}
.timer-toggle-btn {
  background: var(--surface);
  border: 1px solid var(--border2);
  color: var(--text);
  width: 48px;
  height: 48px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
  transition: all 0.2s;
}
.timer-toggle-btn:hover {
  border-color: var(--accent);
  color: var(--accent);
}
.timer-panel {
  background: var(--surface);
  border: 1px solid var(--border2);
  border-radius: 16px;
  padding: 16px;
  width: 240px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
  display: none;
}
.timer-panel.open {
  display: block;
}
.timer-display {
  font-family: "Bebas Neue";
  font-size: 52px;
  text-align: center;
  color: var(--accent);
  line-height: 1;
  margin-bottom: 12px;
  letter-spacing: 2px;
}
.timer-display.running {
  color: var(--green);
}
.timer-display.expired {
  color: var(--red);
}
.timer-presets {
  display: flex;
  gap: 6px;
  margin-bottom: 10px;
  flex-wrap: wrap;
}
.timer-preset {
  flex: 1;
  min-width: 0;
  background: var(--surface2);
  border: 1px solid var(--border2);
  color: var(--text2);
  font-family: "Plus Jakarta Sans";
  font-size: 10px;
  font-weight: 700;
  padding: 6px 4px;
  border-radius: 7px;
  cursor: pointer;
  transition: all 0.15s;
  text-align: center;
  white-space: nowrap;
}
.timer-preset:hover {
  border-color: var(--accent);
  color: var(--accent);
}
.timer-preset.active {
  background: var(--accent-dim);
  border-color: var(--accent);
  color: var(--accent);
}
.timer-btns {
  display: flex;
  gap: 6px;
}
.timer-btn {
  flex: 1;
  background: var(--accent);
  border: none;
  color: var(--accent-text);
  font-family: "Plus Jakarta Sans";
  font-size: 11px;
  font-weight: 700;
  padding: 9px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s;
}
.timer-btn:hover {
  opacity: 0.85;
}
.timer-btn.secondary {
  background: var(--surface2);
  color: var(--text2);
  border: 1px solid var(--border2);
}
.timer-btn.secondary:hover {
  background: var(--surface3);
}
.timer-label {
  font-size: 10px;
  color: var(--muted);
  text-align: center;
  margin-bottom: 8px;
}
.hiit-status {
  font-size: 11px;
  font-weight: 700;
  text-align: center;
  margin-bottom: 6px;
  padding: 4px 10px;
  border-radius: 20px;
}
.hiit-status.work {
  background: var(--accent-dim);
  color: var(--accent);
}
.hiit-status.rest {
  background: rgba(96, 165, 250, 0.12);
  color: var(--blue);
}

/* ── CALENDAR PAGE ── */
.cal-wrap {
  max-width: 800px;
  margin: 0 auto;
  padding: 28px 20px;
}
.cal-header {
  margin-bottom: 24px;
}
.cal-header h2 {
  font-family: "Bebas Neue";
  font-size: 44px;
  line-height: 1;
  margin-bottom: 6px;
}
.cal-header p {
  font-size: 13px;
  color: var(--text2);
}
.cal-nav {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
}
.cal-nav-btn {
  background: none;
  border: 1px solid var(--border2);
  color: var(--text2);
  width: 32px;
  height: 32px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.15s;
}
.cal-nav-btn:hover {
  border-color: var(--accent);
  color: var(--accent);
}
.cal-month-title {
  font-family: "Bebas Neue";
  font-size: 28px;
  flex: 1;
  text-align: center;
}
.cal-legend {
  display: flex;
  gap: 14px;
  flex-wrap: wrap;
  margin-bottom: 14px;
}
.cal-leg-item {
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 11px;
  color: var(--text2);
}
.cal-leg-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
}
.cal-leg-dot.green {
  background: var(--green);
}
.cal-leg-dot.grey {
  background: var(--muted);
}
.cal-leg-dot.red {
  background: var(--red);
}
.cal-leg-dot.trophy {
  background: var(--gold);
}
.cal-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
}
.cal-day-name {
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--muted);
  text-align: center;
  padding: 4px 0;
}
.cal-day {
  aspect-ratio: 1;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1px;
  font-size: 12px;
  font-weight: 600;
  cursor: default;
  transition: all 0.15s;
  border: 1px solid transparent;
  background: var(--surface);
}
.cal-day.empty {
  background: transparent;
  border-color: transparent;
}
.cal-day.today {
  border-color: var(--accent);
  color: var(--accent);
}
.cal-day.worked {
  background: rgba(52, 211, 153, 0.15);
  border-color: rgba(52, 211, 153, 0.3);
  color: var(--green);
}
.cal-day.partial {
  background: rgba(255, 112, 67, 0.12);
  border-color: rgba(255, 112, 67, 0.25);
  color: var(--orange);
}
.cal-day.missed {
  background: rgba(248, 113, 113, 0.1);
  border-color: rgba(248, 113, 113, 0.2);
  color: var(--red);
}
.cal-day.rest {
  background: var(--surface);
  color: var(--muted);
}
.cal-day.future {
  background: transparent;
  border-color: transparent;
  color: var(--border2);
}
.cal-day-num {
  font-size: 13px;
}
.cal-day-icon {
  font-size: 9px;
}

/* ── PR PAGE ── */
.pr-wrap {
  max-width: 800px;
  margin: 0 auto;
  padding: 28px 20px;
}
.pr-header {
  margin-bottom: 24px;
}
.pr-header h2 {
  font-family: "Bebas Neue";
  font-size: 44px;
  line-height: 1;
  margin-bottom: 6px;
}
.pr-header p {
  font-size: 13px;
  color: var(--text2);
}
.pr-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
  margin-bottom: 28px;
}
.pr-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 18px;
  transition: all 0.2s;
}
.pr-card:hover {
  border-color: var(--border2);
  transform: translateY(-2px);
}
.pr-card-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}
.pr-card-name {
  font-size: 13px;
  font-weight: 700;
}
.pr-card-icon {
  font-size: 20px;
}
.pr-card-val {
  font-family: "Bebas Neue";
  font-size: 38px;
  line-height: 1;
  color: var(--gold);
  margin-bottom: 2px;
}
.pr-card-sub {
  font-size: 11px;
  color: var(--text2);
}
.pr-card-date {
  font-size: 10px;
  color: var(--muted);
  margin-top: 6px;
}
.pr-input-row {
  display: flex;
  gap: 8px;
  margin-top: 10px;
  align-items: flex-end;
}
.pr-inp {
  background: var(--input-bg);
  border: 1px solid var(--border2);
  color: var(--text);
  font-size: 13px;
  font-weight: 700;
  padding: 7px 10px;
  width: 80px;
  text-align: center;
  border-radius: 8px;
  transition: border-color 0.15s;
}
.pr-inp:focus {
  outline: none;
  border-color: rgba(251, 191, 36, 0.5);
}
.pr-reps-inp {
  width: 60px;
}
.pr-save-btn {
  background: var(--gold);
  border: none;
  color: #000;
  font-family: "Plus Jakarta Sans";
  font-size: 10px;
  font-weight: 700;
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s;
  white-space: nowrap;
}
.pr-save-btn:hover {
  opacity: 0.85;
}
.pr-history {
  margin-top: 28px;
}
.pr-history-title {
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--text2);
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 7px;
}
.pr-history-title::before {
  content: "";
  width: 12px;
  height: 2px;
  background: var(--gold);
  border-radius: 2px;
}
.pr-hist-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.pr-hist-item {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 12px 16px;
  display: flex;
  align-items: center;
  gap: 12px;
}
.pr-hist-new {
  background: linear-gradient(90deg, rgba(251, 191, 36, 0.08), var(--surface));
  border-color: rgba(251, 191, 36, 0.2);
}
.pr-hist-icon {
  font-size: 20px;
}
.pr-hist-info {
  flex: 1;
}
.pr-hist-lift {
  font-size: 13px;
  font-weight: 700;
  margin-bottom: 1px;
}
.pr-hist-sub {
  font-size: 11px;
  color: var(--text2);
}
.pr-hist-badge {
  font-size: 10px;
  font-weight: 700;
  color: var(--gold);
  background: rgba(251, 191, 36, 0.1);
  border: 1px solid rgba(251, 191, 36, 0.2);
  padding: 2px 8px;
  border-radius: 99px;
}
.pr-hist-new .pr-hist-badge {
  background: rgba(255, 112, 67, 0.15);
  color: var(--orange);
  border-color: rgba(255, 112, 67, 0.3);
}

/* ── VOLUME PAGE ── */
.vol-wrap {
  max-width: 800px;
  margin: 0 auto;
  padding: 28px 20px;
}
.vol-header {
  margin-bottom: 24px;
}
.vol-header h2 {
  font-family: "Bebas Neue";
  font-size: 44px;
  line-height: 1;
  margin-bottom: 6px;
}
.vol-header p {
  font-size: 13px;
  color: var(--text2);
}
.vol-week-select {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  margin-bottom: 20px;
}
.vol-week-btn {
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text2);
  font-family: "Plus Jakarta Sans";
  font-size: 11px;
  font-weight: 700;
  padding: 6px 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s;
}
.vol-week-btn:hover {
  border-color: var(--border2);
}
.vol-week-btn.active {
  background: var(--accent-dim);
  border-color: var(--accent);
  color: var(--accent);
}
.vol-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
  gap: 10px;
  margin-bottom: 24px;
}
.vol-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
}
.vol-card-name {
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--text2);
  margin-bottom: 8px;
}
.vol-card-sets {
  font-family: "Bebas Neue";
  font-size: 36px;
  line-height: 1;
  color: var(--purple);
  margin-bottom: 4px;
}
.vol-card-lbl {
  font-size: 11px;
  color: var(--muted);
}
.vol-bar-track {
  height: 4px;
  background: var(--border2);
  border-radius: 99px;
  margin-top: 8px;
  overflow: hidden;
}
.vol-bar-fill {
  height: 100%;
  border-radius: 99px;
  background: var(--purple);
  transition: width 0.5s;
}

/* ── GOALS PAGE ── */
.goals-wrap {
  max-width: 800px;
  margin: 0 auto;
  padding: 28px 20px;
}
.goals-header {
  margin-bottom: 24px;
}
.goals-header h2 {
  font-family: "Bebas Neue";
  font-size: 44px;
  line-height: 1;
  margin-bottom: 6px;
}
.goals-header p {
  font-size: 13px;
  color: var(--text2);
}
.add-goal-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 20px;
  margin-bottom: 24px;
}
.add-goal-title {
  font-size: 13px;
  font-weight: 700;
  margin-bottom: 14px;
  display: flex;
  align-items: center;
  gap: 6px;
}
.goal-form-row {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: flex-end;
}
.goal-field {
  display: flex;
  flex-direction: column;
  gap: 5px;
  flex: 1;
  min-width: 160px;
}
.goal-field-lbl {
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--text2);
}
.goal-inp {
  background: var(--input-bg);
  border: 1px solid var(--border2);
  color: var(--text);
  font-family: "Plus Jakarta Sans";
  font-size: 13px;
  padding: 9px 12px;
  border-radius: 9px;
  width: 100%;
  transition: border-color 0.15s;
}
.goal-inp:focus {
  outline: none;
  border-color: rgba(200, 255, 0, 0.4);
}
[data-theme="light"] .goal-inp:focus {
  border-color: rgba(45, 122, 0, 0.5);
}
.goal-inp::placeholder {
  color: var(--muted);
}
select.goal-inp {
  cursor: pointer;
}
.goal-add-btn {
  background: var(--accent);
  border: none;
  color: var(--accent-text);
  font-family: "Plus Jakarta Sans";
  font-size: 12px;
  font-weight: 700;
  padding: 9px 18px;
  border-radius: 9px;
  cursor: pointer;
  transition: all 0.15s;
  white-space: nowrap;
}
.goal-add-btn:hover {
  opacity: 0.88;
  transform: translateY(-1px);
}
.goals-tabs {
  display: flex;
  gap: 3px;
  background: var(--surface);
  border: 1px solid var(--border);
  padding: 3px;
  border-radius: 11px;
  margin-bottom: 16px;
}
.goals-tab {
  flex: 1;
  background: none;
  border: none;
  color: var(--text2);
  font-family: "Plus Jakarta Sans";
  font-size: 12px;
  font-weight: 600;
  padding: 8px;
  cursor: pointer;
  border-radius: 9px;
  transition: all 0.15s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 5px;
}
.goals-tab:hover {
  color: var(--text);
}
.goals-tab.active {
  background: var(--surface2);
  color: var(--text);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
}
.tab-cnt {
  background: var(--border2);
  color: var(--text2);
  font-size: 9px;
  font-weight: 700;
  padding: 1px 6px;
  border-radius: 99px;
}
.goals-tab.active .tab-cnt {
  background: var(--accent-dim);
  color: var(--accent);
}
.goals-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.goal-item {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  transition: all 0.2s;
}
.goal-item:hover {
  border-color: var(--border2);
}
.goal-item.done {
  background: linear-gradient(90deg, rgba(52, 211, 153, 0.05), var(--surface));
  border-color: rgba(52, 211, 153, 0.2);
}
.goal-chk {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 2px solid var(--border2);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  flex-shrink: 0;
  transition: all 0.2s;
}
.goal-chk:hover {
  border-color: var(--green);
}
.goal-item.done .goal-chk {
  background: var(--green);
  border-color: var(--green);
}
.goal-chk svg {
  width: 11px;
  height: 11px;
  stroke: #000;
  fill: none;
  stroke-width: 2.5;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0;
  transform: scale(0.4);
  transition: all 0.2s;
}
.goal-item.done .goal-chk svg {
  opacity: 1;
  transform: scale(1);
}
.goal-info {
  flex: 1;
}
.goal-txt {
  font-size: 13px;
  font-weight: 600;
  margin-bottom: 3px;
  transition: all 0.2s;
}
.goal-item.done .goal-txt {
  text-decoration: line-through;
  color: var(--text2);
}
.goal-meta2 {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}
.goal-type-tag {
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  padding: 2px 7px;
  border-radius: 99px;
}
.goal-type-tag.workout {
  background: rgba(167, 139, 250, 0.15);
  color: var(--purple);
}
.goal-type-tag.weight {
  background: rgba(96, 165, 250, 0.15);
  color: var(--blue);
}
.goal-type-tag.strength {
  background: rgba(251, 191, 36, 0.15);
  color: var(--gold);
}
.goal-type-tag.other {
  background: rgba(255, 255, 255, 0.06);
  color: var(--text2);
}
[data-theme="light"] .goal-type-tag.other {
  background: rgba(0, 0, 0, 0.06);
}
.goal-date {
  font-size: 10px;
  color: var(--muted);
}
.goal-del {
  background: none;
  border: none;
  color: var(--muted);
  cursor: pointer;
  width: 26px;
  height: 26px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.15s;
  font-size: 12px;
}
.goal-del:hover {
  background: rgba(248, 113, 113, 0.1);
  color: var(--red);
}
.empty-state {
  text-align: center;
  padding: 48px 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}
.empty-icon {
  font-size: 40px;
  opacity: 0.2;
}
.empty-txt {
  font-size: 13px;
  color: var(--text2);
  line-height: 1.6;
}

/* ── TOAST ── */
.toast {
  position: fixed;
  bottom: 84px;
  right: 20px;
  z-index: 500;
  background: var(--surface);
  border: 1px solid var(--border2);
  border-radius: 12px;
  padding: 12px 16px;
  display: flex;
  align-items: center;
  gap: 10px;
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.5);
  transform: translateY(60px);
  opacity: 0;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
  min-width: 220px;
  max-width: 300px;
}
.toast.show {
  transform: translateY(0);
  opacity: 1;
}
.toast-icon {
  font-size: 18px;
}
.toast-msg {
  font-size: 12px;
  font-weight: 600;
  line-height: 1.4;
}

/* ── NUTRITION PAGE ── */
.nutr-wrap {
  max-width: 860px;
  margin: 0 auto;
  padding: 28px 20px 80px;
}
.nutr-header {
  margin-bottom: 24px;
}
.nutr-header h2 {
  font-family: "Bebas Neue";
  font-size: 44px;
  line-height: 1;
  margin-bottom: 6px;
}
.nutr-header p {
  font-size: 13px;
  color: var(--text2);
}

/* Calorie ring */
.cal-summary {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 20px 24px;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  gap: 24px;
  flex-wrap: wrap;
}
.cal-ring-wrap {
  position: relative;
  width: 100px;
  height: 100px;
  flex-shrink: 0;
}
.cal-ring-svg {
  width: 100px;
  height: 100px;
  transform: rotate(-90deg);
}
.cal-ring-bg {
  fill: none;
  stroke: var(--border2);
  stroke-width: 10;
}
.cal-ring-fill {
  fill: none;
  stroke: var(--accent);
  stroke-width: 10;
  stroke-linecap: round;
  transition: stroke-dashoffset 0.5s ease;
}
.cal-ring-label {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}
.cal-ring-num {
  font-family: "Bebas Neue";
  font-size: 22px;
  line-height: 1;
  color: var(--accent);
}
.cal-ring-sub {
  font-size: 9px;
  color: var(--text2);
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
}
.cal-stats {
  flex: 1;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  min-width: 220px;
}
.cal-stat {
  text-align: center;
}
.cal-stat-val {
  font-family: "Bebas Neue";
  font-size: 28px;
  line-height: 1;
  margin-bottom: 3px;
}
.cal-stat-lbl {
  font-size: 10px;
  color: var(--text2);
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
}
.cal-stat.c-blue .cal-stat-val {
  color: var(--blue);
}
.cal-stat.c-green .cal-stat-val {
  color: var(--green);
}
.cal-stat.c-orange .cal-stat-val {
  color: var(--orange);
}
.cal-goal-row {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 14px;
  flex-wrap: wrap;
}
.cal-goal-lbl {
  font-size: 11px;
  color: var(--text2);
  font-weight: 600;
}
.cal-goal-inp {
  background: var(--input-bg);
  border: 1px solid var(--border2);
  color: var(--text);
  font-size: 14px;
  font-weight: 700;
  padding: 6px 10px;
  width: 80px;
  border-radius: 8px;
  text-align: center;
}
.cal-goal-inp:focus {
  outline: none;
  border-color: var(--accent);
}
.cal-set-goal-btn {
  background: var(--accent);
  border: none;
  color: var(--accent-text);
  font-size: 11px;
  font-weight: 700;
  padding: 7px 14px;
  border-radius: 8px;
  cursor: pointer;
  font-family: "Plus Jakarta Sans";
}
.cal-set-goal-btn:hover {
  opacity: 0.85;
}

/* Macro bars */
.macro-bars {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 16px 20px;
  margin-bottom: 20px;
}
.macro-bar-row {
  margin-bottom: 12px;
}
.macro-bar-row:last-child {
  margin-bottom: 0;
}
.macro-bar-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 5px;
}
.macro-bar-name {
  font-size: 12px;
  font-weight: 700;
}
.macro-bar-val {
  font-size: 11px;
  color: var(--text2);
}
.macro-track {
  height: 6px;
  background: var(--border2);
  border-radius: 99px;
  overflow: hidden;
}
.macro-fill {
  height: 100%;
  border-radius: 99px;
  transition: width 0.4s ease;
}
.macro-fill.protein {
  background: var(--blue);
}
.macro-fill.carbs {
  background: var(--orange);
}
.macro-fill.fat {
  background: var(--purple);
}

/* Day tabs */
.nutr-day-tabs {
  display: flex;
  gap: 4px;
  overflow-x: auto;
  padding-bottom: 2px;
  margin-bottom: 16px;
}
.nutr-day-tabs::-webkit-scrollbar {
  display: none;
}
.nutr-day-tab {
  flex-shrink: 0;
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text2);
  font-size: 11px;
  font-weight: 700;
  padding: 7px 14px;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.15s;
  font-family: "Plus Jakarta Sans";
  white-space: nowrap;
}
.nutr-day-tab:hover {
  border-color: var(--border2);
}
.nutr-day-tab.active {
  background: var(--accent-dim);
  border-color: var(--accent);
  color: var(--accent);
}

/* Meal sections */
.meal-section {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  margin-bottom: 14px;
  overflow: hidden;
}
.meal-section-hd {
  padding: 12px 16px;
  background: var(--surface2);
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.meal-section-name {
  font-size: 13px;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 7px;
}
.meal-section-cals {
  font-size: 12px;
  color: var(--text2);
}
.meal-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 11px 16px;
  border-bottom: 1px solid var(--border);
  transition: background 0.15s;
  cursor: pointer;
  user-select: none;
}
.meal-item:last-child {
  border-bottom: none;
}
.meal-item:hover {
  background: rgba(255, 255, 255, 0.02);
}
[data-theme="light"] .meal-item:hover {
  background: rgba(0, 0, 0, 0.02);
}
.meal-item.eaten {
  background: rgba(200, 255, 0, 0.02);
}
[data-theme="light"] .meal-item.eaten {
  background: rgba(45, 122, 0, 0.03);
}
.meal-cb {
  width: 20px;
  height: 20px;
  border: 2px solid var(--border2);
  border-radius: 5px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}
.meal-item.eaten .meal-cb {
  background: var(--green);
  border-color: var(--green);
}
.meal-cb svg {
  width: 10px;
  height: 10px;
  stroke: #000;
  fill: none;
  stroke-width: 2.5;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0;
  transform: scale(0.4);
  transition: all 0.2s;
}
.meal-item.eaten .meal-cb svg {
  opacity: 1;
  transform: scale(1);
}
.meal-item-info {
  flex: 1;
}
.meal-item-name {
  font-size: 13px;
  font-weight: 600;
  transition: all 0.2s;
}
.meal-item.eaten .meal-item-name {
  text-decoration: line-through;
  color: var(--text2);
}
.meal-item-macros {
  font-size: 10px;
  color: var(--muted);
  margin-top: 1px;
}
.meal-item-cal {
  font-size: 12px;
  font-weight: 700;
  color: var(--accent);
  white-space: nowrap;
}
.meal-item.eaten .meal-item-cal {
  color: var(--muted);
}

/* Water tracker */
.water-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 16px 20px;
  margin-bottom: 14px;
}
.water-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}
.water-title {
  font-size: 13px;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 6px;
}
.water-val {
  font-family: "Bebas Neue";
  font-size: 24px;
  color: var(--blue);
}
.water-cups {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}
.water-cup {
  font-size: 20px;
  cursor: pointer;
  opacity: 0.3;
  transition: all 0.2s;
  line-height: 1;
}
.water-cup.filled {
  opacity: 1;
}
.water-cup:hover {
  transform: scale(1.2);
}
.water-hist-wrap {
  margin-top: 14px;
  border-top: 1px solid var(--border);
  padding-top: 10px;
}
.water-hist-title {
  font-size: 11px;
  font-weight: 700;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 8px;
}
.water-hist-row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 0;
  font-size: 12px;
}
.water-hist-date {
  color: var(--text2);
  min-width: 110px;
  flex-shrink: 0;
}
.water-hist-cups {
  flex: 1;
  font-size: 14px;
  line-height: 1;
  letter-spacing: 1px;
  word-break: break-all;
}
.water-hist-num {
  color: var(--blue);
  font-weight: 700;
  font-size: 12px;
  white-space: nowrap;
}

/* ── RESPONSIVE ── */
@media (max-width: 600px) {
  .stat-strip {
    grid-template-columns: repeat(2, 1fr);
  }
  .wstats-row {
    grid-template-columns: 1fr 1fr;
  }
  .wstat:nth-child(3) {
    display: none;
  }
  .pr-grid {
    grid-template-columns: 1fr 1fr;
  }
  .vol-grid {
    grid-template-columns: 1fr 1fr;
  }
  .weeks-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  .cal-stats {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 380px) {
  .stat-strip {
    grid-template-columns: repeat(2, 1fr);
  }
  .weeks-grid {
    grid-template-columns: 1fr 1fr;
  }
}

/* ── MOBILE PWA SAFE AREAS & TAP TARGETS ── */
button, a, [role="button"] {
  min-height: 44px;
  min-width: 44px;
}
.nav-btn {
  min-height: 40px;
}
.page {
  padding-bottom: max(80px, calc(env(safe-area-inset-bottom) + 80px));
}
.page-home { padding-bottom: max(96px, calc(env(safe-area-inset-bottom) + 96px)); }

.timer-fab {
  bottom: max(20px, env(safe-area-inset-bottom, 20px));
}

/* ── WARMUP PAGE ── */
.warmup-wrap {
  padding: 20px;
  max-width: 900px;
  margin: 0 auto;
}
.warmup-header {
  margin-bottom: 24px;
}
.warmup-header h2 {
  font-family: "Bebas Neue";
  font-size: 32px;
  letter-spacing: 2px;
  color: var(--text);
  margin-bottom: 4px;
}
.warmup-header p {
  font-size: 13px;
  color: var(--text2);
}
.warmup-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 12px;
  margin-bottom: 20px;
}
.warmup-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 20px 16px;
  text-align: center;
  cursor: pointer;
  transition: all 0.2s;
  min-height: 110px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
}
.warmup-card:hover {
  transform: translateY(-2px);
  border-color: var(--border2);
}
.warmup-card.active {
  border-color: var(--accent);
  background: var(--accent-dim);
}
.warmup-card-icon {
  font-size: 28px;
}
.warmup-card-name {
  font-size: 13px;
  font-weight: 700;
  color: var(--text);
}
.warmup-card-count {
  font-size: 10px;
  color: var(--text2);
  font-weight: 600;
}
.warmup-detail {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 20px;
  margin-bottom: 16px;
  display: none;
}
.warmup-detail.open {
  display: block;
}
.warmup-detail-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 1px solid var(--border);
}
.warmup-detail-icon {
  font-size: 24px;
}
.warmup-detail-title {
  font-family: "Bebas Neue";
  font-size: 22px;
  letter-spacing: 1px;
}
.warmup-ex-row {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 0;
  border-bottom: 1px solid var(--border);
}
.warmup-ex-row:last-child {
  border-bottom: none;
}
.warmup-ex-num {
  width: 26px;
  height: 26px;
  border-radius: 50%;
  background: var(--accent-dim);
  color: var(--accent);
  font-size: 11px;
  font-weight: 800;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 1px;
}
.warmup-ex-info {
  flex: 1;
}
.warmup-ex-name {
  font-size: 14px;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 2px;
}
.warmup-ex-sets {
  font-size: 12px;
  color: var(--accent);
  font-weight: 600;
  margin-bottom: 2px;
}
.warmup-ex-tip {
  font-size: 11px;
  color: var(--text2);
  line-height: 1.5;
}

/* ── HIIT PAGE ── */
.hiit-wrap {
  padding: 20px;
  max-width: 900px;
  margin: 0 auto;
}
.hiit-header {
  margin-bottom: 8px;
}
.hiit-header h2 {
  font-family: "Bebas Neue";
  font-size: 32px;
  letter-spacing: 2px;
  color: var(--text);
  margin-bottom: 4px;
}
.hiit-header p {
  font-size: 13px;
  color: var(--text2);
  margin-bottom: 20px;
}
.hiit-goal-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 12px;
  margin-bottom: 20px;
}
.hiit-goal-card {
  background: var(--surface);
  border: 2px solid var(--border);
  border-radius: 16px;
  padding: 18px 14px;
  cursor: pointer;
  transition: all 0.2s;
  text-align: center;
  min-height: 130px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
}
.hiit-goal-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.2);
}
.hiit-goal-card.active {
  box-shadow: 0 0 0 2px var(--card-accent), 0 8px 24px rgba(0,0,0,0.2);
}
.hiit-goal-icon {
  font-size: 32px;
}
.hiit-goal-name {
  font-size: 13px;
  font-weight: 800;
  color: var(--text);
  letter-spacing: 0.3px;
}
.hiit-goal-tagline {
  font-size: 10px;
  color: var(--text2);
  font-weight: 500;
}
.hiit-detail {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  overflow: hidden;
  margin-bottom: 16px;
  display: none;
}
.hiit-detail.open {
  display: block;
}
.hiit-detail-header {
  padding: 20px;
  border-bottom: 1px solid var(--border);
}
.hiit-detail-top {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 8px;
}
.hiit-detail-icon {
  font-size: 28px;
}
.hiit-detail-title {
  font-family: "Bebas Neue";
  font-size: 24px;
  letter-spacing: 1px;
}
.hiit-detail-desc {
  font-size: 12px;
  color: var(--text2);
  line-height: 1.6;
}
.hiit-params-row {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 12px;
}
.hiit-param-chip {
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: 8px;
  padding: 6px 12px;
  font-size: 11px;
  font-weight: 700;
  color: var(--text2);
}
.hiit-param-chip span {
  color: var(--accent);
}
/* Inline HIIT timer */
.hiit-timer-inline {
  padding: 20px;
  border-bottom: 1px solid var(--border);
  background: var(--surface2);
  text-align: center;
}
.hiit-timer-phase {
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 3px;
  text-transform: uppercase;
  margin-bottom: 8px;
  padding: 4px 14px;
  border-radius: 20px;
  display: inline-block;
}
.hiit-timer-phase.work {
  background: rgba(255,112,67,0.15);
  color: var(--orange);
}
.hiit-timer-phase.rest {
  background: rgba(96,165,250,0.15);
  color: var(--blue);
}
.hiit-timer-phase.idle {
  background: var(--surface3);
  color: var(--text2);
}
.hiit-timer-display {
  font-family: "Bebas Neue";
  font-size: 72px;
  letter-spacing: 4px;
  line-height: 1;
  margin: 8px 0;
  color: var(--text);
  transition: color 0.3s;
}
.hiit-timer-display.work-phase { color: var(--orange); }
.hiit-timer-display.rest-phase { color: var(--blue); }
.hiit-timer-rounds {
  font-size: 13px;
  color: var(--text2);
  font-weight: 700;
  margin-bottom: 16px;
}
.hiit-timer-rounds span {
  color: var(--accent);
  font-size: 18px;
}
.hiit-timer-controls {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
}
.hiit-ctrl-btn {
  padding: 10px 22px;
  border-radius: 10px;
  border: none;
  font-family: "Plus Jakarta Sans";
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.15s;
  min-height: 44px;
}
.hiit-ctrl-btn.primary {
  background: var(--accent);
  color: var(--accent-text);
}
.hiit-ctrl-btn.primary:hover {
  opacity: 0.9;
  transform: translateY(-1px);
}
.hiit-ctrl-btn.secondary {
  background: var(--surface3);
  color: var(--text2);
}
.hiit-ctrl-btn.secondary:hover {
  color: var(--text);
}
/* Adjust work/rest inline */
.hiit-custom-row {
  display: flex;
  gap: 10px;
  justify-content: center;
  align-items: center;
  margin-top: 12px;
  flex-wrap: wrap;
}
.hiit-custom-field {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}
.hiit-custom-lbl {
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--text2);
}
.hiit-custom-inp {
  width: 64px;
  background: var(--input-bg);
  border: 1px solid var(--border2);
  border-radius: 8px;
  color: var(--text);
  font-family: "Plus Jakarta Sans";
  font-size: 14px;
  font-weight: 700;
  text-align: center;
  padding: 6px 4px;
  min-height: 40px;
}
.hiit-custom-inp:focus {
  outline: none;
  border-color: var(--accent);
}
/* Exercise list */
.hiit-ex-section {
  padding: 20px;
}
.hiit-ex-section-title {
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--text2);
  margin-bottom: 14px;
  display: flex;
  align-items: center;
  gap: 6px;
}
.hiit-ex-section-title::before {
  content: "";
  width: 10px;
  height: 2px;
  background: var(--accent);
  border-radius: 2px;
}
.hiit-ex-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.hiit-ex-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  background: var(--surface2);
  border-radius: 10px;
  padding: 12px 14px;
}
.hiit-ex-num {
  width: 24px;
  height: 24px;
  border-radius: 6px;
  background: var(--accent-dim);
  color: var(--accent);
  font-size: 11px;
  font-weight: 800;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.hiit-ex-thumb {
  width: 52px;
  height: 52px;
  border-radius: 8px;
  object-fit: cover;
  flex-shrink: 0;
  background: var(--surface3);
  border: 1px solid var(--border2);
}
.hiit-ex-name {
  font-size: 13px;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 2px;
}
.hiit-ex-tip {
  font-size: 11px;
  color: var(--text2);
}
/* HIIT tips section */
.hiit-tips-section {
  margin-top: 24px;
}
.hiit-tips-title {
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--text2);
  margin-bottom: 14px;
}
.hiit-tips-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 10px;
}
.hiit-tip-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px 16px;
}
.hiit-tip-icon {
  font-size: 20px;
  margin-bottom: 6px;
}
.hiit-tip-text {
  font-size: 12px;
  color: var(--text2);
  line-height: 1.5;
}

/* ── NUTRITION QUANTITY ── */
.meal-item-qty-row {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 6px;
  flex-wrap: wrap;
}
.meal-qty-lbl {
  font-size: 10px;
  color: var(--text2);
  font-weight: 600;
}
.meal-qty-inp {
  width: 58px;
  background: var(--input-bg);
  border: 1px solid var(--border2);
  border-radius: 7px;
  color: var(--text);
  font-family: "Plus Jakarta Sans";
  font-size: 12px;
  font-weight: 700;
  text-align: center;
  padding: 4px 6px;
  min-height: 34px;
}
.meal-qty-inp:focus {
  outline: none;
  border-color: var(--accent);
}
.meal-qty-cal {
  font-size: 10px;
  color: var(--text2);
}
.meal-qty-cal span {
  color: var(--accent);
  font-weight: 700;
}

/* ── NOTIFICATION SETTINGS ── */
.notif-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 18px 20px;
}
.notif-row {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}
.notif-label {
  font-size: 13px;
  font-weight: 700;
  color: var(--text);
  flex: 1;
}
.notif-label span {
  display: block;
  font-size: 11px;
  font-weight: 500;
  color: var(--text2);
  margin-top: 2px;
}
.notif-toggle {
  position: relative;
  width: 44px;
  height: 26px;
  flex-shrink: 0;
}
.notif-toggle input {
  opacity: 0;
  width: 0;
  height: 0;
  position: absolute;
}
.notif-slider {
  position: absolute;
  inset: 0;
  border-radius: 26px;
  background: var(--border2);
  cursor: pointer;
  transition: 0.2s;
}
.notif-slider::before {
  content: "";
  position: absolute;
  height: 20px;
  width: 20px;
  left: 3px;
  top: 3px;
  border-radius: 50%;
  background: white;
  transition: 0.2s;
}
.notif-toggle input:checked + .notif-slider {
  background: var(--accent);
}
.notif-toggle input:checked + .notif-slider::before {
  transform: translateX(18px);
}
.notif-time-inp {
  background: var(--input-bg);
  border: 1px solid var(--border2);
  border-radius: 9px;
  color: var(--text);
  font-family: "Plus Jakarta Sans";
  font-size: 14px;
  font-weight: 700;
  padding: 6px 10px;
  min-height: 40px;
  cursor: pointer;
}
.notif-time-inp:focus {
  outline: none;
  border-color: var(--accent);
}
.notif-save-btn {
  background: var(--accent);
  color: var(--accent-text);
  border: none;
  border-radius: 9px;
  font-family: "Plus Jakarta Sans";
  font-size: 12px;
  font-weight: 700;
  padding: 8px 16px;
  cursor: pointer;
  min-height: 40px;
  transition: opacity 0.15s;
}
.notif-save-btn:hover {
  opacity: 0.9;
}
.notif-status {
  font-size: 11px;
  color: var(--text2);
  margin-top: 8px;
  min-height: 16px;
}

/* ── RESPONSIVE: WARMUP + HIIT ── */
@media (max-width: 600px) {
  .warmup-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  .hiit-goal-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  .hiit-timer-display {
    font-size: 56px;
  }
  .hiit-tips-grid {
    grid-template-columns: 1fr;
  }
}

/* ═══════════════════════════════════════════════════
   CUSTOMIZE PAGE STYLES
   ═══════════════════════════════════════════════════ */

.cust-wrap {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px 16px 120px;
}

.cust-header {
  text-align: center;
  padding: 24px 0 20px;
}
.cust-header h2 {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 32px;
  letter-spacing: 2px;
  color: var(--text);
  margin: 0 0 8px;
}
.cust-header p {
  color: var(--text2);
  font-size: 14px;
  margin: 0;
}

.cust-day-block {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  margin-bottom: 16px;
  overflow: hidden;
}

.cust-day-hd {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: var(--surface2);
  border-bottom: 1px solid var(--border);
}

.cust-day-icon {
  font-size: 22px;
}

.cust-day-name {
  font-weight: 700;
  font-size: 15px;
  color: var(--text);
}

.cust-day-focus {
  font-size: 12px;
  color: var(--text2);
  margin-top: 2px;
}

.cust-ex-list {
  padding: 8px 0;
}

.cust-ex-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 16px;
  border-bottom: 1px solid var(--border);
  transition: background 0.15s;
}

.cust-ex-row:last-child {
  border-bottom: none;
}

.cust-ex-row:hover {
  background: var(--surface2);
}

.cust-ex-row.has-custom {
  border-left: 3px solid var(--accent);
}

.cust-ex-info {
  flex: 1;
  min-width: 0;
}

.cust-ex-name {
  font-size: 14px;
  font-weight: 600;
  color: var(--text);
}

.cust-ex-sets {
  font-size: 12px;
  font-weight: 400;
  color: var(--accent);
  margin-left: 8px;
}

.cust-ex-alt {
  font-size: 11px;
  color: var(--text2);
  margin-top: 2px;
}

.cust-ex-badge {
  display: inline-block;
  margin-top: 4px;
  padding: 2px 8px;
  background: rgba(200, 255, 0, 0.12);
  color: var(--accent);
  border-radius: 20px;
  font-size: 10px;
  font-weight: 700;
}

.cust-edit-btn {
  background: var(--surface3);
  border: 1px solid var(--border2);
  border-radius: 8px;
  color: var(--text);
  font-size: 12px;
  font-weight: 600;
  padding: 6px 14px;
  cursor: pointer;
  flex-shrink: 0;
  margin-left: 12px;
  transition: background 0.15s, border-color 0.15s;
}

.cust-edit-btn:hover {
  background: var(--accent);
  color: #000;
  border-color: var(--accent);
}

/* ── CUSTOMIZE MODAL ── */
.cust-modal-overlay {
  display: none;
  position: fixed;
  inset: 0;
  z-index: 900;
  background: rgba(0,0,0,0.7);
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.cust-modal-overlay.open {
  display: flex;
}

.cust-modal-box {
  background: var(--surface);
  border: 1px solid var(--border2);
  border-radius: 20px;
  width: 100%;
  max-width: 500px;
  overflow: hidden;
  box-shadow: 0 24px 80px rgba(0,0,0,0.5);
  animation: modalIn 0.2s ease;
}

@keyframes modalIn {
  from { transform: scale(0.94) translateY(16px); opacity: 0; }
  to   { transform: scale(1) translateY(0); opacity: 1; }
}

.cust-modal-hd {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  padding: 20px 20px 16px;
  border-bottom: 1px solid var(--border);
  background: var(--surface2);
}

.cust-modal-title {
  font-weight: 700;
  font-size: 16px;
  color: var(--text);
}

.cust-modal-day {
  font-size: 12px;
  color: var(--text2);
  margin-top: 4px;
}

.cust-modal-close {
  background: var(--surface3);
  border: 1px solid var(--border2);
  border-radius: 8px;
  color: var(--text2);
  font-size: 14px;
  padding: 4px 10px;
  cursor: pointer;
  flex-shrink: 0;
  margin-left: 12px;
}

.cust-modal-body {
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.cust-field {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.cust-field-lbl {
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--text2);
}

.cust-inp, .cust-sel {
  background: var(--input-bg);
  border: 1px solid var(--border2);
  border-radius: 10px;
  color: var(--text);
  font-family: 'Plus Jakarta Sans', sans-serif;
  font-size: 14px;
  padding: 10px 14px;
  outline: none;
  transition: border-color 0.2s;
  width: 100%;
  box-sizing: border-box;
}

.cust-inp:focus, .cust-sel:focus {
  border-color: var(--accent);
}

.cust-sel option {
  background: var(--surface2);
}

.cust-modal-footer {
  display: flex;
  gap: 10px;
  padding: 16px 20px;
  border-top: 1px solid var(--border);
  background: var(--surface2);
}

.cust-reset-btn {
  background: transparent;
  border: 1px solid var(--border2);
  border-radius: 10px;
  color: var(--text2);
  font-family: 'Plus Jakarta Sans', sans-serif;
  font-size: 13px;
  font-weight: 600;
  padding: 10px 16px;
  cursor: pointer;
  transition: border-color 0.2s, color 0.2s;
}

.cust-reset-btn:hover {
  border-color: #f87171;
  color: #f87171;
}

.cust-save-btn {
  flex: 1;
  background: var(--accent);
  border: none;
  border-radius: 10px;
  color: #000;
  font-family: 'Plus Jakarta Sans', sans-serif;
  font-size: 14px;
  font-weight: 700;
  padding: 10px 20px;
  cursor: pointer;
  transition: opacity 0.2s;
}

.cust-save-btn:hover {
  opacity: 0.85;
}

/* Alternatives shown under exercise name in week view */
.ex-alt {
  font-size: 10px;
  color: var(--muted);
  margin-top: 2px;
  font-style: italic;
}

/* ── CUSTOMIZE TAB SWITCHER ── */
.cust-tabs-row {
  display: flex;
  gap: 8px;
  margin-bottom: 20px;
}
.cust-tab-btn {
  flex: 1;
  background: var(--surface2);
  border: 1.5px solid var(--border);
  border-radius: 12px;
  color: var(--text2);
  font-family: 'Plus Jakarta Sans', sans-serif;
  font-size: 14px;
  font-weight: 700;
  padding: 12px 10px;
  cursor: pointer;
  transition: background 0.2s, color 0.2s, border-color 0.2s;
}
.cust-tab-btn.active {
  background: var(--accent);
  border-color: var(--accent);
  color: #000;
}
.cust-tab-btn:hover:not(.active) {
  border-color: var(--accent);
  color: var(--accent);
}

/* ── NUTRITION CUSTOMIZE ── */
.nutr-cust-day-block {
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 16px;
  margin-bottom: 16px;
  overflow: hidden;
}
.nutr-cust-day-hd {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
  border-bottom: 1px solid var(--border);
  background: var(--surface);
}
.nutr-cust-day-icon { font-size: 24px; }
.nutr-cust-day-name { font-size: 16px; font-weight: 800; color: var(--text); }
.nutr-cust-day-focus { font-size: 12px; color: var(--accent); font-weight: 600; margin-top: 2px; }
.nutr-cust-section-lbl {
  font-size: 11px; font-weight: 700; color: var(--muted);
  text-transform: uppercase; letter-spacing: 0.07em; padding: 10px 16px 4px;
}
.nutr-cust-item-row {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 16px; border-top: 1px solid var(--border); gap: 12px;
}
.nutr-cust-item-row.has-custom { background: rgba(200,255,0,0.04); }
.nutr-cust-item-info { flex: 1; min-width: 0; }
.nutr-cust-item-name { font-size: 13px; font-weight: 700; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.nutr-cust-item-macros { font-size: 11px; color: var(--text2); margin-top: 2px; }
.nutr-cust-badge { font-size: 10px; font-weight: 700; color: var(--accent); background: rgba(200,255,0,0.1); border-radius: 6px; padding: 2px 6px; margin-top: 4px; display: inline-block; }
.nutr-cust-edit-btn {
  background: var(--surface); border: 1px solid var(--border2); border-radius: 8px;
  color: var(--text2); font-family: 'Plus Jakarta Sans', sans-serif; font-size: 12px;
  font-weight: 700; padding: 6px 12px; cursor: pointer; white-space: nowrap;
  transition: border-color 0.2s, color 0.2s; flex-shrink: 0;
}
.nutr-cust-edit-btn:hover { border-color: var(--accent); color: var(--accent); }

/* ═══════════════════════════════════════════════════
   NEW ADDITIONS v2
   ═══════════════════════════════════════════════════ */

/* ── HAMBURGER / HIDDEN NAV ITEMS ── */
.nav-hamburger {
  background: none;
  border: 1px solid var(--border2);
  color: var(--text2);
  width: 34px;
  height: 34px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-right: 4px;
  transition: all 0.15s;
}
.nav-hamburger:hover { background: var(--surface2); color: var(--text); }
.nav-hidden { display: none !important; }

/* ── SIDE DRAWER ── */
.drawer-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  z-index: 500;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s;
  backdrop-filter: blur(4px);
}
.drawer-overlay.open { opacity: 1; pointer-events: all; }

.side-drawer {
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: 280px;
  max-width: 85vw;
  background: var(--surface);
  border-right: 1px solid var(--border2);
  z-index: 600;
  display: flex;
  flex-direction: column;
  transform: translateX(-100%);
  transition: transform 0.28s cubic-bezier(0.4,0,0.2,1);
  overflow-y: auto;
}
.side-drawer.open { transform: translateX(0); }

.drawer-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 18px 12px;
  border-bottom: 1px solid var(--border);
}
.drawer-logo {
  font-family: 'Bebas Neue';
  font-size: 22px;
  letter-spacing: 3px;
  color: var(--accent);
}
.drawer-logo span { color: var(--text2); font-size: 14px; }
.drawer-close {
  background: none;
  border: 1px solid var(--border2);
  color: var(--text2);
  width: 30px;
  height: 30px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.drawer-streak {
  padding: 10px 18px;
  font-size: 13px;
  font-weight: 700;
  color: var(--orange);
  background: rgba(255,112,67,0.08);
  border-bottom: 1px solid var(--border);
}

.drawer-nav {
  flex: 1;
  padding: 10px 10px;
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.drawer-btn {
  background: none;
  border: none;
  color: var(--text2);
  font-family: 'Plus Jakarta Sans';
  font-size: 14px;
  font-weight: 600;
  padding: 11px 14px;
  cursor: pointer;
  border-radius: 10px;
  transition: all 0.15s;
  display: flex;
  align-items: center;
  gap: 10px;
  text-align: left;
  width: 100%;
}
.drawer-btn:hover { background: var(--surface2); color: var(--text); }
.drawer-btn.active { background: var(--accent-dim); color: var(--accent); }

.drawer-footer {
  padding: 14px 14px 24px;
  border-top: 1px solid var(--border);
}
.drawer-theme-btn {
  background: var(--surface2);
  border: 1px solid var(--border2);
  color: var(--text2);
  font-family: 'Plus Jakarta Sans';
  font-size: 13px;
  font-weight: 600;
  padding: 10px 14px;
  border-radius: 10px;
  cursor: pointer;
  width: 100%;
  text-align: left;
}

/* ── WORKOUT COMPLETE POPUP ── */
.workout-popup-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  z-index: 900;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s;
  backdrop-filter: blur(6px);
}
.workout-popup-overlay.open { opacity: 1; pointer-events: all; }

.workout-popup-box {
  background: var(--surface);
  border: 1px solid var(--border2);
  border-radius: 24px;
  padding: 36px 28px 28px;
  max-width: 340px;
  width: 90%;
  text-align: center;
  position: relative;
  overflow: hidden;
  animation: popupBounce 0.4s cubic-bezier(0.34,1.56,0.64,1) forwards;
  transform: scale(0.8);
}
@keyframes popupBounce {
  to { transform: scale(1); }
}
.workout-popup-confetti {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  pointer-events: none;
  overflow: hidden;
}
.confetti-piece {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 2px;
  animation: confettiFall 2s ease-in forwards;
  top: -10px;
}
@keyframes confettiFall {
  to { transform: translateY(400px) rotate(720deg); opacity: 0; }
}

.workout-popup-emoji {
  font-size: 56px;
  margin-bottom: 12px;
  display: block;
  animation: emojiPop 0.5s cubic-bezier(0.34,1.56,0.64,1) 0.2s both;
}
@keyframes emojiPop {
  from { transform: scale(0) rotate(-20deg); }
  to { transform: scale(1) rotate(0deg); }
}
.workout-popup-title {
  font-family: 'Bebas Neue';
  font-size: 32px;
  letter-spacing: 2px;
  color: var(--accent);
  margin-bottom: 6px;
}
.workout-popup-sub {
  font-size: 14px;
  color: var(--text2);
  margin-bottom: 16px;
  line-height: 1.5;
}
.workout-popup-stats {
  background: var(--surface2);
  border-radius: 12px;
  padding: 12px 16px;
  margin-bottom: 20px;
  font-size: 13px;
  color: var(--text2);
  text-align: left;
}
.workout-popup-stat-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 4px 0;
}
.workout-popup-stat-row strong { color: var(--text); }
.workout-popup-btn {
  background: var(--accent);
  border: none;
  color: var(--accent-text);
  font-family: 'Plus Jakarta Sans';
  font-size: 15px;
  font-weight: 700;
  padding: 14px 32px;
  border-radius: 12px;
  cursor: pointer;
  width: 100%;
  transition: opacity 0.15s;
}
.workout-popup-btn:hover { opacity: 0.88; }

/* ── PROGRESS BADGE (week weight trend) ── */
.ex-progress-badge {
  display: inline-flex;
  align-items: center;
  gap: 3px;
  font-size: 10px;
  font-weight: 700;
  padding: 2px 7px;
  border-radius: 20px;
  margin-top: 4px;
}
.ex-progress-badge.up { background: rgba(52,211,153,0.15); color: #34d399; }
.ex-progress-badge.down { background: rgba(248,113,113,0.15); color: #f87171; }
.ex-progress-badge.same { background: rgba(96,165,250,0.15); color: #60a5fa; }
.ex-progress-badge.pr { background: rgba(251,191,36,0.18); color: #fbbf24; }

/* ── SET INPUT — per-set PR badge ── */
.set-pr-badge {
  font-size: 9px;
  font-weight: 800;
  color: #fbbf24;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

/* ── BMI PAGE ── */
.bmi-wrap { max-width: 600px; margin: 0 auto; padding: 20px 16px 100px; }
.bmi-header { margin-bottom: 20px; }
.bmi-header h2 { font-family: 'Bebas Neue'; font-size: 28px; letter-spacing: 2px; color: var(--accent); }
.bmi-header p { color: var(--text2); font-size: 13px; margin-top: 4px; }

.bmi-input-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}
.bmi-form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-bottom: 16px;
}
.bmi-field { display: flex; flex-direction: column; gap: 5px; }
.bmi-field-wide { grid-column: span 2; }
.bmi-lbl { font-size: 11px; font-weight: 700; letter-spacing: 1px; text-transform: uppercase; color: var(--text2); }
.bmi-inp {
  background: var(--input-bg);
  border: 1px solid var(--border2);
  border-radius: 10px;
  color: var(--text);
  font-family: 'Plus Jakarta Sans';
  font-size: 14px;
  padding: 10px 12px;
  outline: none;
  transition: border-color 0.15s;
}
.bmi-inp:focus { border-color: var(--accent); }
.bmi-calc-btn {
  background: var(--accent);
  border: none;
  color: var(--accent-text);
  font-family: 'Plus Jakarta Sans';
  font-size: 14px;
  font-weight: 700;
  padding: 12px 24px;
  border-radius: 12px;
  cursor: pointer;
  width: 100%;
  transition: opacity 0.15s;
}
.bmi-calc-btn:hover { opacity: 0.88; }

.bmi-result-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 14px;
}
.bmi-result-title {
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--text2);
  margin-bottom: 16px;
}

/* BMI Gauge */
.bmi-gauge-wrap { margin-bottom: 16px; }
.bmi-gauge-bar {
  height: 18px;
  border-radius: 10px;
  display: flex;
  overflow: visible;
  position: relative;
  margin-bottom: 8px;
  gap: 2px;
}
.bmi-gauge-segment { border-radius: 4px; height: 18px; }
.bmi-gauge-marker {
  position: absolute;
  top: -6px;
  width: 4px;
  height: 30px;
  background: #fff;
  border-radius: 3px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.5);
  transform: translateX(-50%);
  transition: left 0.6s cubic-bezier(0.4,0,0.2,1);
  left: 0%;
}
.bmi-gauge-labels {
  display: flex;
  justify-content: space-between;
  font-size: 10px;
  color: var(--text2);
  text-align: center;
  gap: 2px;
}
.bmi-gauge-labels span { flex: 1; }

.bmi-big-num {
  font-family: 'Bebas Neue';
  font-size: 56px;
  letter-spacing: 2px;
  color: var(--accent);
  text-align: center;
  line-height: 1;
}
.bmi-category {
  font-size: 16px;
  font-weight: 700;
  text-align: center;
  color: var(--text);
  margin: 4px 0;
}
.bmi-ideal-range {
  font-size: 12px;
  color: var(--text2);
  text-align: center;
  margin-top: 4px;
}

/* Calorie grid */
.bmi-cal-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}
.bmi-cal-item {
  background: var(--surface2);
  border-radius: 12px;
  padding: 14px 12px;
  text-align: center;
}
.bmi-cal-goal-item { border: 1px solid var(--accent); background: var(--accent-dim); }
.bmi-cal-icon { font-size: 22px; margin-bottom: 6px; }
.bmi-cal-val { font-size: 20px; font-weight: 800; color: var(--text); margin-bottom: 4px; }
.bmi-cal-lbl { font-size: 11px; color: var(--text2); line-height: 1.4; }
.bmi-cal-lbl small { font-size: 10px; }

/* Macro grid */
.bmi-macro-grid { display: grid; grid-template-columns: repeat(3,1fr); gap: 10px; }
.bmi-macro-item { background: var(--surface2); border-radius: 12px; padding: 14px 10px; text-align: center; }
.bmi-macro-val { font-size: 20px; font-weight: 800; color: var(--text); margin-bottom: 4px; }
.bmi-macro-lbl { font-size: 11px; color: var(--text2); }

.bmi-apply-btn {
  display: block;
  width: 100%;
  background: var(--accent);
  border: none;
  color: var(--accent-text);
  font-family: 'Plus Jakarta Sans';
  font-size: 14px;
  font-weight: 700;
  padding: 14px;
  border-radius: 12px;
  cursor: pointer;
  margin-top: 4px;
  margin-bottom: 80px;
}

/* BMI nutrition status banner */
.bmi-nutr-status-banner {
  display: flex;
  align-items: center;
  gap: 8px;
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: 10px;
  padding: 8px 12px;
  font-size: 12px;
  color: var(--text2);
}
.bmi-nutr-status-banner.over { border-color: rgba(248,113,113,0.4); background: rgba(248,113,113,0.08); color: #f87171; }
.bmi-nutr-status-banner.under { border-color: rgba(96,165,250,0.4); background: rgba(96,165,250,0.08); color: #60a5fa; }
.bmi-nutr-status-banner.ok { border-color: rgba(52,211,153,0.4); background: rgba(52,211,153,0.08); color: #34d399; }

/* today nutr status in BMI page */
.bmi-nutr-row { display: flex; justify-content: space-between; align-items: center; padding: 6px 0; border-bottom: 1px solid var(--border); font-size: 13px; }
.bmi-nutr-row:last-child { border-bottom: none; }
.bmi-nutr-row strong { color: var(--text); }


/* ═══════════════════════════════════════════════════
   EXERCISE DETAIL MODAL
   ═══════════════════════════════════════════════════ */

.ex-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  z-index: 800;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s;
  backdrop-filter: blur(6px);
}
.ex-modal-overlay.open {
  opacity: 1;
  pointer-events: all;
}

.ex-modal-box {
  background: var(--surface);
  border: 1px solid var(--border2);
  border-radius: 24px 24px 0 0;
  width: 100%;
  max-width: 560px;
  max-height: 92vh;
  display: flex;
  flex-direction: column;
  transform: translateY(100%);
  transition: transform 0.3s cubic-bezier(0.4,0,0.2,1);
  overflow: hidden;
}
.ex-modal-overlay.open .ex-modal-box {
  transform: translateY(0);
}

/* Drag handle */
.ex-modal-box::before {
  content: '';
  display: block;
  width: 36px;
  height: 4px;
  background: var(--border2);
  border-radius: 2px;
  margin: 10px auto 0;
  flex-shrink: 0;
}

.ex-modal-hd {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  padding: 12px 20px 14px;
  border-bottom: 1px solid var(--border);
  flex-shrink: 0;
}
.ex-modal-hd-left { flex: 1; min-width: 0; }
.ex-modal-name {
  font-family: 'Bebas Neue';
  font-size: 22px;
  letter-spacing: 1.5px;
  color: var(--accent);
  line-height: 1.1;
  margin-bottom: 3px;
}
.ex-modal-muscles {
  font-size: 11px;
  font-weight: 600;
  color: var(--text2);
  letter-spacing: 0.5px;
}
.ex-modal-close {
  background: var(--surface2);
  border: 1px solid var(--border2);
  color: var(--text2);
  width: 30px;
  height: 30px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 13px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-left: 10px;
}

.ex-modal-body {
  overflow-y: auto;
  flex: 1;
  padding: 16px 20px 32px;
  -webkit-overflow-scrolling: touch;
}

.ex-modal-img-wrap {
  width: 100%;
  display: flex;
  justify-content: center;
  margin-bottom: 16px;
}
.ex-modal-img-wrap img {
  width: 160px;
  height: 120px;
  object-fit: cover;
  border-radius: 14px;
  border: 1px solid var(--border2);
}

.ex-modal-section {
  margin-bottom: 18px;
}
.ex-modal-section-title {
  font-size: 10px;
  font-weight: 800;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--text2);
  margin-bottom: 10px;
}

.ex-modal-cues-list { display: flex; flex-direction: column; gap: 7px; }
.ex-modal-cue {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  background: var(--surface2);
  border-radius: 10px;
  padding: 9px 12px;
  font-size: 13px;
  color: var(--text);
  line-height: 1.45;
}
.ex-modal-cue-num {
  background: var(--accent-dim);
  color: var(--accent);
  font-size: 10px;
  font-weight: 800;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 1px;
}

.ex-modal-mistake-txt {
  background: rgba(248,113,113,0.08);
  border: 1px solid rgba(248,113,113,0.25);
  border-radius: 10px;
  padding: 10px 13px;
  font-size: 13px;
  color: #f87171;
  line-height: 1.5;
}

.ex-modal-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 18px;
}
.ex-modal-chip {
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: 20px;
  padding: 5px 12px;
  font-size: 12px;
  color: var(--text2);
}
.ex-modal-chip strong { color: var(--text); }

/* Cardio specific */
.ex-modal-cardio-tip {
  font-size: 13px;
  color: var(--text);
  line-height: 1.6;
  background: var(--surface2);
  border-radius: 10px;
  padding: 12px 14px;
  margin-bottom: 8px;
}
.ex-modal-cardio-zone {
  font-size: 12px;
  color: var(--accent);
  font-weight: 700;
  background: var(--accent-dim);
  border-radius: 8px;
  padding: 6px 12px;
  display: inline-block;
}

.ex-cardio-timer {
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: 16px;
  padding: 18px;
  text-align: center;
}
.ex-cardio-timer-display {
  font-family: 'Bebas Neue';
  font-size: 52px;
  letter-spacing: 3px;
  color: var(--accent);
  line-height: 1;
  margin-bottom: 12px;
  transition: color 0.3s;
}
.ex-cardio-timer-display.running { color: #34d399; }
.ex-cardio-timer-display.expired { color: #f87171; }
.ex-cardio-presets {
  display: flex;
  gap: 6px;
  justify-content: center;
  margin-bottom: 12px;
  flex-wrap: wrap;
}
.ex-cardio-preset {
  background: var(--surface3);
  border: 1px solid var(--border2);
  color: var(--text2);
  font-family: 'Plus Jakarta Sans';
  font-size: 12px;
  font-weight: 700;
  padding: 6px 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s;
}
.ex-cardio-preset.active,
.ex-cardio-preset:hover { background: var(--accent-dim); color: var(--accent); border-color: var(--accent); }
.ex-cardio-btns { display: flex; gap: 8px; justify-content: center; }
.ex-cardio-btn {
  font-family: 'Plus Jakarta Sans';
  font-size: 14px;
  font-weight: 700;
  padding: 10px 24px;
  border-radius: 10px;
  cursor: pointer;
  border: none;
  transition: opacity 0.15s;
}
.ex-cardio-btn.primary { background: var(--accent); color: var(--accent-text); }
.ex-cardio-btn.secondary { background: var(--surface3); color: var(--text2); border: 1px solid var(--border2); }
.ex-cardio-btn:hover { opacity: 0.85; }

/* Sets grid */
.ex-modal-sets-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
}
.ex-modal-set-card {
  background: var(--surface2);
  border: 1px solid var(--border2);
  border-radius: 14px;
  padding: 12px 13px;
  transition: border-color 0.2s;
}
.ex-modal-set-card.has-value { border-color: var(--accent); }
.ex-modal-set-card.is-pr { border-color: #fbbf24; background: rgba(251,191,36,0.06); }
.ex-modal-set-lbl {
  font-size: 10px;
  font-weight: 800;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--text2);
  margin-bottom: 6px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.ex-modal-set-pr-tag {
  font-size: 9px;
  font-weight: 800;
  color: #fbbf24;
  letter-spacing: 0.5px;
}
.ex-modal-set-inp {
  width: 100%;
  background: var(--surface3);
  border: 1px solid var(--border2);
  border-radius: 8px;
  color: var(--text);
  font-family: 'Plus Jakarta Sans';
  font-size: 18px;
  font-weight: 700;
  padding: 8px 10px;
  outline: none;
  text-align: center;
  transition: border-color 0.15s;
}
.ex-modal-set-inp:focus { border-color: var(--accent); }
.ex-modal-set-prev {
  font-size: 11px;
  color: var(--text2);
  text-align: center;
  margin-top: 5px;
}
.ex-modal-set-prev span { color: var(--blue); font-weight: 600; }

/* Feedback panel */
.ex-modal-feedback {
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--surface2);
  border-radius: 12px;
  padding: 12px 14px;
  margin: 12px 0;
  border-left: 3px solid var(--accent);
  font-size: 13px;
  color: var(--text);
  line-height: 1.4;
}
.ex-modal-feedback.up { border-color: #34d399; }
.ex-modal-feedback.down { border-color: #f87171; }
.ex-modal-feedback.pr { border-color: #fbbf24; }
.ex-modal-feedback.same { border-color: #60a5fa; }
.ex-modal-feedback-icon { font-size: 22px; flex-shrink: 0; }

/* Progress chart */
#ex-modal-progress-chart {
  background: var(--surface2);
  border-radius: 12px;
  padding: 12px;
  overflow-x: auto;
}
#ex-modal-progress-chart svg { display: block; }

.ex-modal-done-btn {
  display: block;
  width: 100%;
  background: var(--accent);
  border: none;
  color: var(--accent-text);
  font-family: 'Plus Jakarta Sans';
  font-size: 15px;
  font-weight: 700;
  padding: 14px;
  border-radius: 12px;
  cursor: pointer;
  margin-top: 16px;
  transition: opacity 0.15s;
}
.ex-modal-done-btn:hover { opacity: 0.88; }
.ex-modal-done-btn.done-state {
  background: #34d399;
  color: #000;
}


/* ── EXERCISE LIBRARY PICKER — customize modal additions ── */
.cust-lib-tip {
  margin: 4px 0 8px;
  background: rgba(99,102,241,0.08);
  border: 1px solid rgba(99,102,241,0.25);
  border-radius: 10px;
  padding: 10px 12px;
  font-size: 12px;
  line-height: 1.5;
}
.cust-lib-tip-muscles {
  font-weight: 600;
  color: var(--accent, #a78bfa);
  margin-bottom: 6px;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.04em;
}
.cust-lib-tip-cues {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.cust-lib-tip-cue {
  display: flex;
  gap: 8px;
  color: var(--text, #e2e8f0);
  font-size: 12px;
}
.cust-lib-tip-cue span {
  flex-shrink: 0;
  width: 16px;
  height: 16px;
  background: rgba(99,102,241,0.35);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  font-weight: 700;
  color: #c4b5fd;
  margin-top: 1px;
}
